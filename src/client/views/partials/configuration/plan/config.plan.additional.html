<div class="row">
    <section class="col-xs-12 col-md-6">
        <header class="col-xs-12 m-y-5">
            <strong>News Feed</strong>
            <section class="pull-right">
                <button type="button"
                        class="btn btn-success btn-xs"
                        title="New Feed"
                        data-ng-disabled="updatingPlan"
                        data-ng-click="planAdditionalCtrl.addNewsFeed()"><i class="fa fa-plus"></i></button>
                <button type="button"
                        class="btn btn-danger btn-xs"
                        title="Delete Feed"
                        data-ng-disabled="!planAdditionalCtrl.selectedNewsFeed || updatingPlan"
                        data-ng-click="planAdditionalCtrl.deleteNewsFeed()"><i class="fa fa-trash"></i></button>
            </section>
        </header>
        <main>
            <fieldset class="fieldset well" data-ng-disabled="updatingPlan">
                <div class="alert alert-info m-b-0"
                     data-ng-if="!planAdditionalCtrl.planAdditional.newsFeed.list.length">
                    No News Feed is configured yet. Please add one...
                </div>

                <div class="row" data-ng-if="planAdditionalCtrl.planAdditional.newsFeed.list.length">
                    <div class="form-group col-xs-12">
                        <span class="col-xs-9 p-l-0 p-y-2">
                            <label for="feedDisplayItems" class="m-t-5">
                                {{planAdditionalCtrl.planAdditional.newsFeed.display.label}}
                            </label>
                        </span>
                        <span class="col-xs-3 p-r-0">
                            <input type="number"
                                   class="form-control"
                                   id="feedDisplayItems"
                                   name="feedDisplayItems"
                                   data-ng-model="planAdditionalCtrl.planAdditional.newsFeed.display.limit"
                                   placeholder="{{feed.link.placeholder}}">
                        </span>
                    </div>

                    <div class="form-group col-xs-12">
                        <label for="newsFeedList">Configured Feeds</label>
                        <select class="form-control"
                                id="newsFeedList"
                                name="newsFeeds"
                                data-ng-options="feed.header.value for feed in planAdditionalCtrl.planAdditional.newsFeed.list"
                                data-ng-model="planAdditionalCtrl.selectedNewsFeed"></select>
                    </div>

                    <div class=" form-group col-xs-12"
                         data-ng-repeat="(key, newsFeedField) in planAdditionalCtrl.selectedNewsFeed">
                        <label for="{{key}}">{{newsFeedField.label}}</label>

                        <input data-ng-if="newsFeedField.type === 'text'"
                               type="{{newsFeedField.type}}"
                               class="form-control"
                               id="{{key}}"
                               name="{{key}}"
                               data-ng-model="newsFeedField.value"
                               placeholder="{{newsFeedField.placeholder}}">

                        <data-image-upload data-ng-if="newsFeedField.type === 'image'" data-file-model="newsFeedField"></data-image-upload>
                    </div>
                </div>
            </fieldset>
        </main>
    </section>

    <section class="col-xs-12 col-md-6">
        <header class="col-xs-12 m-y-5">
            <strong>Insights</strong>
            <section class="pull-right">
                <button type="button"
                        class="btn btn-success btn-xs"
                        title="New Insight"
                        data-ng-disabled="updatingPlan"
                        data-ng-click="planAdditionalCtrl.addInsight()"><i class="fa fa-plus"></i></button>
                <button type="button"
                        class="btn btn-danger btn-xs"
                        title="Delete Insight"
                        data-ng-disabled="!planAdditionalCtrl.selectedInsight || updatingPlan"
                        data-ng-click="planAdditionalCtrl.deleteInsight()"><i class="fa fa-trash"></i></button>
            </section>
        </header>
        <main>
            <fieldset class="fieldset well" data-ng-disabled="updatingPlan">
                <div class="alert alert-info m-b-0"
                     data-ng-if="!planAdditionalCtrl.planAdditional.insight.list.length">
                    No Insight is configured yet. Please add one...
                </div>

                <div class="row" data-ng-if="planAdditionalCtrl.planAdditional.insight.list.length">
                    <div class="form-group col-xs-12">
                            <span class="col-xs-9 p-l-0 p-y-2">
                                <label for="insightDisplayItems" class="m-t-5">
                                    {{planAdditionalCtrl.planAdditional.insight.display.label}}
                                </label>
                            </span>
                        <span class="col-xs-3 p-r-0">
                                <input type="number"
                                       class="form-control"
                                       id="insightDisplayItems"
                                       name="feedDisplayItems"
                                       data-ng-model="planAdditionalCtrl.planAdditional.insight.display.limit"
                                       placeholder="{{feed.link.placeholder}}">
                            </span>
                    </div>

                    <div class="form-group col-xs-12">
                        <label for="insights">Configured Insights</label>
                        <select class="form-control"
                                id="insights"
                                name="insights"
                                data-ng-options="insight.header.value for insight in planAdditionalCtrl.planAdditional.insight.list"
                                data-ng-model="planAdditionalCtrl.selectedInsight"></select>
                    </div>

                    <div class="form-group col-xs-12"
                         data-ng-repeat="(key, insight) in planAdditionalCtrl.selectedInsight">
                        <label for="{{key}}">{{insight.label}}</label>
                        <input type="{{insight.type}}"
                               class="form-control"
                               id="{{key}}"
                               name="{{key}}"
                               data-ng-model="insight.value"
                               placeholder="{{insight.placeholder}}">
                    </div>
                </div>
            </fieldset>
        </main>
    </section>
</div>
