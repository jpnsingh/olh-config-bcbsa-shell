<header>
    <h3>Role Management</h3>
</header>

<data-loading-spinner data-loading="roleCtrl.loadingRoles"></data-loading-spinner>

<main class="roles-container main-content clearfix" data-ng-if="!roleCtrl.loadingRoles">
    <section class="role-list col-xs-12">
        <header class="col-xs-12 m-y-5">
            <strong>Roles</strong>
            <section class="pull-right">
                <button class="btn btn-success btn-xs"
                        title="New Role"
                        data-ng-disabled="!roleCtrl.canModifyRoles || roleCtrl.updating"
                        data-ng-click="roleCtrl.addRole()">
                    <i class="fa fa-plus"></i></button>
                <button class="btn btn-primary btn-xs"
                        title="Update Role"
                        data-ng-disabled="!roleCtrl.roleChanged || !roleCtrl.canModifyRoles || roleCtrl.updating"
                        data-ng-click="roleCtrl.updateRole()">
                    <i class="fa fa-save"></i></button>
                <button class="btn btn-danger btn-xs"
                        title="Delete Role"
                        data-ng-disabled="!roleCtrl.canModifyRoles || roleCtrl.updating || !roleCtrl.selected"
                        data-ng-click="roleCtrl.deleteRole()">
                    <i class="fa fa-trash"></i></button>
            </section>
        </header>
        <main>
            <fieldset class="fieldset well col-xs-12" data-ng-disabled="roleCtrl.updating">
                <div class="alert alert-info m-b-0" data-ng-if="!roleCtrl.roles.length">
                    No roles configured yet. Please add one...
                </div>

                <button data-ng-repeat="role in roleCtrl.roles"
                        type="button"
                        class="btn btn-default m-x-5"
                        data-ng-class="{'btn-success': role.id === roleCtrl.selected.id}"
                        data-ng-click="roleCtrl.selected = role"
                        data-ng-bind="role.id"></button>
            </fieldset>
        </main>
    </section>

    <section class="role-info col-xs-12">
        <header class="col-xs-12 m-y-5">
            <strong>Role Info.</strong>
        </header>
        <main>
            <form name="roleForm">
                <fieldset class="fieldset well col-xs-12"
                          data-ng-disabled="!roleCtrl.canModifyRoles || roleCtrl.updating">
                    <div class="alert alert-info m-b-0" data-ng-if="!roleCtrl.roles.length">
                        Please select a role from the list or add one...
                    </div>

                    <div data-ng-if="roleCtrl.roles.length">
                        <div class="form-group col-xs-6">
                            <label for="roleId">ID</label>
                            <input type="text"
                                   id="roleId"
                                   name="roleId"
                                   class="form-control"
                                   data-ng-model="roleCtrl.selected.id">
                        </div>
                        <div class="form-group col-xs-6">
                            <label for="roleName">Name</label>
                            <input type="text"
                                   id="roleName"
                                   name="roleName"
                                   class="form-control"
                                   data-ng-model="roleCtrl.selected.name">
                        </div>
                        <div class="form-group col-xs-6">
                            <label for="roleDescription">Description</label>
                            <input type="text"
                                   id="roleDescription"
                                   name="roleDescription"
                                   class="form-control"
                                   data-ng-model="roleCtrl.selected.description">
                        </div>
                        <div class="form-group col-xs-6">
                            <label for="rolePriority">Priority</label>
                            <input type="number"
                                   id="rolePriority"
                                   name="rolePriority"
                                   class="form-control"
                                   data-ng-model="roleCtrl.selected.priority">
                        </div>
                    </div>
                </fieldset>
            </form>
        </main>
        <footer></footer>
    </section>
</main>
